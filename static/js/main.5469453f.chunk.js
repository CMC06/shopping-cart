(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{20:function(t,e,n){},23:function(t,e,n){},27:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n.n(c),a=n(13),s=n.n(a),o=(n(20),n(12)),i=n.n(o),u=n(9),j=n(14),l=n(7),d=(n(22),n(23),n(29)),b=n(30),f=n(31),m=n(32),h=n(34),O=n(33),p=n(0),x=function(t){var e=t.item,n=t.Image,c=t.addToCart,r=t.index,a=t.Button,s="https://picsum.photos/id/"+(r+1049)+"/50/50";return Object(p.jsxs)("li",{children:[Object(p.jsx)(n,{src:s,width:50,roundedCircle:!0}),Object(p.jsxs)(a,{type:"submit",name:e.name,onClick:c,children:[e.name,": $",e.cost," ",Object(p.jsx)("br",{}),"Current Stock: ",e.instock]})]},r)},C=function(t){var e=t.items,n=t.Image,c=t.addToCart,r=t.Button,a=e.map((function(t,e){return Object(p.jsx)(x,{item:t,Image:n,addToCart:c,index:e,Button:r},e)}));return Object(p.jsxs)("div",{className:"small-container",children:[Object(p.jsx)("h2",{children:"Available Products"}),Object(p.jsx)("ul",{children:a})]})},g=function(t){var e=t.query,n=t.setQuery,c=(t.setItems,t.restockProducts);return Object(p.jsxs)("form",{onSubmit:function(t){c("".concat(e)),console.log("Restock called on ".concat(e)),t.preventDefault()},children:[Object(p.jsx)("input",{type:"text",value:e,onChange:function(t){return n(t.target.value)}}),Object(p.jsx)("button",{type:"submit",children:"Restock Products"})]})},v=n.p+"static/media/trash.5ef06904.png",k=function(t){var e=t.item,n=t.index,c=t.deleteCartItem,r=t.Card,a=t.Button;return Object(p.jsxs)(r,{children:[Object(p.jsx)(r.Header,{as:a,variant:"link",onClick:function(){return c(n)},className:"deleteHeader",children:Object(p.jsx)("img",{src:v,alt:"trash icon",id:"deleteIcon"})}),Object(p.jsxs)(r.Body,{children:[e.name," ",Object(p.jsx)("br",{}),"$",e.cost," from ",e.country]})]})},y=function(t){var e=t.cart,n=t.deleteCartItem,c=t.Card,r=t.Button,a=e.map((function(t,e){return Object(p.jsx)(k,{item:t,index:e,deleteCartItem:n,Card:c,Button:r},e)}));return Object(p.jsxs)("div",{className:"small-container",children:[Object(p.jsx)("h2",{children:"Shopping Cart"}),a.length>0?a:Object(p.jsx)("p",{children:"Your shopping cart is empty."})]})},S=function(t){var e=t.total,n=t.setTotal,c=t.cart,r=t.Button,a=t.useEffect,s=(t.finalCart,t.setFinalCart,function(){return c.map((function(t){return t.cost})).reduce((function(t,e){return t+e}),0)});return a((function(){var t=s();n(t)}),[c]),Object(p.jsxs)("div",{className:"small-container",children:[Object(p.jsx)("h2",{children:"Checkout "}),Object(p.jsxs)(r,{type:"submit",onClick:function(t){t.preventDefault(),console.log("Click")},children:["Checkout $",e]})]})};var B=function(){var t=Object(c.useState)([{name:"Apple",country:"USA",cost:3,instock:10},{name:"Beans",country:"USA",cost:2,instock:8},{name:"Cabbage",country:"USA",cost:1,instock:4}]),e=Object(l.a)(t,2),n=e[0],r=e[1],a=Object(c.useState)([]),s=Object(l.a)(a,2),o=s[0],x=s[1],v=Object(c.useState)(0),k=Object(l.a)(v,2),B=k[0],I=k[1],T=Object(c.useState)([]),E=Object(l.a)(T,2),N=E[0],A=E[1],F=Object(c.useState)("http://localhost:1337/products"),P=Object(l.a)(F,2),w=P[0],D=P[1],J=function(){var t=Object(j.a)(i.a.mark((function t(e){var n,c,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return n=t.sent,t.next=5,n.json();case 5:c=t.sent,console.log(c),a=c.map((function(t){return{name:t.name,country:t.country,cost:t.cost,instock:t.instock}})),r(Object(u.a)(a));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){J("http://localhost:1337/products")}),[]),Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)("h1",{children:"Shopping Cart Exercise"}),Object(p.jsxs)(d.a,{children:[Object(p.jsxs)(b.a,{children:[Object(p.jsx)(f.a,{children:Object(p.jsx)(C,{items:n,Image:m.a,addToCart:function(t){t.preventDefault();var e=t.target.name,c=n.filter((function(t){return t.name===e}));if(console.log("add to Cart ".concat(JSON.stringify(c))),!(c[0].instock<=0)){var r=n.map((function(e){return t.target.name===e.name&&(e.instock=e.instock-1),e}));console.log(JSON.stringify(r)),x([].concat(Object(u.a)(o),Object(u.a)(c)))}},Button:h.a})}),Object(p.jsx)(f.a,{children:Object(p.jsx)(y,{cart:o,deleteCartItem:function(t){var e=o[t].name;Object(u.a)(n).forEach((function(t){e===t.name&&(t.instock=t.instock+1)}));var c=o.filter((function(e,n){return t!==n}));x(c)},Card:O.a,Button:h.a})}),Object(p.jsx)(f.a,{children:Object(p.jsx)(S,{cart:o,total:B,setTotal:I,finalCart:N,setFinalCart:A,Button:h.a,useEffect:c.useEffect})})]}),Object(p.jsx)(b.a,{children:Object(p.jsx)(g,{query:w,setQuery:D,setItems:r,restockProducts:J})})]})]})},I=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,a=e.getLCP,s=e.getTTFB;n(t),c(t),r(t),a(t),s(t)}))};s.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(B,{})}),document.getElementById("root")),I()}},[[27,1,2]]]);
//# sourceMappingURL=main.5469453f.chunk.js.map